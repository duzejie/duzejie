首先硬件模拟器按照精确度来说分为以下几类：

1. 功能级模拟器，这个应该是题主所说的硬件模拟器。

此类[模拟器](https://www.zhihu.com/search?q=%E6%A8%A1%E6%8B%9F%E5%99%A8&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A25950694%7D)实现硬件的功能，能够像真实硬件一样运行上层的软件。例如在PC上开发安卓就需要arm的模拟器，在x86上运行arm程序，当前安卓模拟器是基于开源模拟器QEMU实现的。

2. 时序精确级模拟器，此类模拟器不仅能够实现硬件的功能，还能够模拟硬件内部的时序。在进行芯片和SOC架构探索的时候需要用到此类模拟器，用于评估、分析硬件架构的性能。设计阶段之所需使用模拟器是因为一方面芯片的流片周期很长、成本高昂（百万级），

另一方面在真实芯片上缺少调测定位的手段。

猜测题主所说的模拟器应该指的是功能级模拟器，这里对功能机模拟器做大概的介绍：

实现一个功能机模拟器主要包含以下几大块：

1. 处理器模拟

模拟处理器其实主要做的就是使用软件实现硬件的指令。处理器的模拟其实跟芯片内部的大概流程很类似。以ARM的模拟器为例，经过ARM的编译器编译出来一个ARM程序，需要在我们的模拟器上运行：

首先要按照ARM可执行程序的格式（linux下同意为ELF格式文件）解析可执行文件-->从ELF文件中读取指令-->按照ARM的指令集说明对读取的二进制指令进行解码-->执行解析出的指令-->获取下一条指令-->循环

这里的主要工作就是要对ARM的每条指令进行实现，例如add加法指令、load/store内存操作指令、乘法指令等。。。

2. 内存模拟

处理器运行时需要不停对外部IO进行操作，最多就是load/store仿寸，我们必须模拟处理器的内存。对于功能机仿真器来说只需要malloc一块内存，映射给处理器即可。当然，如果硬件设计有MMU时还需要对实现MMU功能。Cache一般不需要进行模拟。

3. 外设模拟

如果要整个系统运行起来，还需要对外设进行模拟，例如ARM程序用到了DMA，那么我们就需要对DMA部件进行模拟，硬件规格会定义出DMA[寄存器](https://www.zhihu.com/search?q=%E5%AF%84%E5%AD%98%E5%99%A8&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A25950694%7D)的行为，我们需要对这些行为进行模拟。

4. 总线的模拟

OK，假设处理器，内存，外设我们都模拟好了，接下来我们还需要将这些部件进行互联。系统会对每个部件在系统中的地址进行定义，我们需要正确的进行地址映射，如此一个store指令我们才能根据地址说这条指令是访问了内存还是DMA。

其次需要对中断进行互联，例如DMA完成了，需要通过中断告诉CPU，我们就需要通过句柄等是DMA能够更新CPU的状态（中断寄存器）。

此时，我们纯手工版的模拟器就OK了，开发工作两肯定不小。基于开源模拟器做模拟器能够更为快速的构建自己的模拟器。

当前的开源模拟器有QEMU、GEM5、Asim等。

QEMU使用了JIT技术（具体可以参看Java的JIT），仿真速度能达到几百百万条指令每秒，而且提供了ARM、Power PC、MIPS、x86等几乎所有的处理器架构的模拟器，还支持串口、网卡等硬件外设。

GEM5模拟器是一个核和内存子系统的时序精确级开源模拟器，能够模拟核和cache、内存的时序。

提起模拟器还要说的是SystemC语言，SystemC是使用C/C++语言用于系统设计的语言，提供了时钟、信号等基本的模块，提供了抽系那个能够在较高层次上对硬件进行描述。基于SystemC还发展出了一套TLM协议，设计TLM协议的目标是通过一套规范的接口实现仿真模块间的解耦。通过TLM不同模块只要满足规范，就可以进行互联成为一个整体，降低硬件的复杂度。

此外还有一些商业的模拟器，例如[simics](https://www.zhihu.com/search?q=simics&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A25950694%7D)（当前已被Intel收购），提供了更为高级的模型描述语言DML，能够在更高层次上对硬件进行建模，快速开发仿真器。系统也提供了一套解耦，实现模块间解耦。而且支持使用python脚本语言实现整体的互联，进一步降低系统的复杂度。

最后要说的是：在当前软硬件协同设计的背景下，对模拟器的一个主要挑战是如何快速构建精确级的模拟器和与之配套的编译器[工具链](https://www.zhihu.com/search?q=%E5%B7%A5%E5%85%B7%E9%93%BE&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A25950694%7D)，用以评估验证硬件开发人员的设计和idea。目前看到有Coware解决方案，能够快速生成硬件模拟器和编译器，给出性能数据。