---
title: C++注意事项
author: Sunglow
top: false
cover: false
toc: false
mathjax: false
summary: 'null'
categories:
  - 软件工程
  - Cpp
tags:
  - 编程
  - C++
date: 2018-02-21 21:25:13
keywords:
---

```
int main(){
  int a;float b,c;
  scanf("%2d%3f%4f",&a,&b,&c);
  printf("\na=%d,b=%d,c=%f\n",a,b,c);
}
```
> 输出 a=98,b=0,c=0.000000

printf函数执行的时候，会先把这三个数字压入栈里，然后再执行打印。  
压入栈的时候按照数据本身的长度来，首先把c和b压入，并且每一个都是8个字节（printf自动转化为double）。然后再压入a是4个字节。然后再执行打印。  
打印的时候按照用户指定的格式来出栈。首先打印a，a打印正常。然后又打印4个字节长度的b，在栈里面由于b长度是八个字节，并且b目前是64位的表示方式，数据的后面全是0.（float 变double），电脑是小端存储方式，0存储在距离a近的地方。打印b的时候，打印的4个字节都是0.然后再打印c，c用正常的方式打印，会一下子读取8个字节，正好，读出来的八个字节前面四个字节全是0，自己可以算一下，实在太小了，因此为0.   

```
栈底                                          栈顶
高字节。。。。。。。。。。。低字节
4321     0000      765     0000         98
4字节   4字节    4字节    4字节      4字节
             打印c                 打印b      打印a
附：浮点数（单精度的float和双精度的double）在内存中以二进制的科学计数法表示，
表达式为N = 2^E * F；其中E为阶码（采用移位存储），F为尾数。
float和double都由符号位、阶码、尾数三部分组成，
float存储时使用4个字节，double存储时使用8个字节。
各部分占用位宽如下所示：
             符号位     阶码      尾数     长度
float              1           8         23      32
double          1         11        52       64
```